{"ast":null,"code":"import Qs from \"qs\";\nexport default {\n  name: \"Navigation\",\n\n  data() {\n    return {\n      isLogin: false,\n      loginName: '未命名',\n      activeIndex: '1',\n      activeIndex2: '1'\n    };\n  },\n\n  props: ['router'],\n  methods: {\n    selectUser() {\n      var user = localStorage.getItem('user');\n      this.$axios.post('http://localhost:8080/user/selectUser', user).then(response => {\n        console.log(\"返回的数据是：\", response.data);\n      }, error => {\n        console.log(\"错误的原因是：\", error);\n      });\n    },\n\n    handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n    },\n\n    emitRouter(router) {\n      this.$bus.$emit('router', router);\n    },\n\n    emitLogin() {\n      this.$bus.$emit('router', '/login');\n    },\n\n    emitRegister() {\n      this.$bus.$emit('router', '/register');\n    },\n\n    emitUser() {\n      this.$bus.$emit('router', '/user');\n    }\n\n  },\n\n  mounted() {\n    var user = JSON.parse(localStorage.getItem('user'));\n\n    if (user.name !== '' && user.password !== '') {\n      this.isLogin = true;\n      this.$axios.post('http://localhost:8080/user/selectUser', Qs.stringify({\n        name: user.name,\n        pass: user.password\n      })).then(response => {\n        this.loginName = response.data.userName;\n      });\n    }\n  }\n\n};","map":{"version":3,"mappings":"AAkCA;AACA;EACAA,kBADA;;EAEAC;IACA;MACAC,cADA;MAEAC,gBAFA;MAGAC,gBAHA;MAIAC;IAJA;EAMA,CATA;;EAUAC,iBAVA;EAWAC;IACAC;MACA;MACA,qEACAC;QACAC;MACA,CAHA,EAIAC;QACAD;MACA,CANA;IAQA,CAXA;;IAYAE;MACAF;IACA,CAdA;;IAeAG;MACA;IACA,CAjBA;;IAkBAC;MACA;IACA,CApBA;;IAqBAC;MACA;IACA,CAvBA;;IAwBAC;MACA;IACA;;EA1BA,CAXA;;EAuCAC;IACA;;IACA;MACA;MAEA;QACAjB,eADA;QAEAkB;MAFA,IAGAC,IAHA,CAIAV;QACA;MACA,CANA;IAQA;EACA;;AArDA","names":["name","data","isLogin","loginName","activeIndex","activeIndex2","props","methods","selectUser","response","console","error","handleSelect","emitRouter","emitLogin","emitRegister","emitUser","mounted","pass","then"],"sourceRoot":"src/components","sources":["Navigation.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"21\">\r\n        <div class=\"grid-content bg-purple\">\r\n          <el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\">\r\n            <el-menu-item index=\"1\" @click=\"emitRouter('/home')\">首页</el-menu-item>\r\n            <el-menu-item index=\"2\" @click=\"emitRouter('/latest')\">最新</el-menu-item>\r\n            <el-menu-item index=\"3\">最热</el-menu-item>\r\n            <el-submenu index=\"4\">\r\n              <template slot=\"title\">更多</template>\r\n              <el-menu-item index=\"4-1\">个人信息</el-menu-item>\r\n              <el-menu-item index=\"4-2\">会员服务</el-menu-item>\r\n              <el-menu-item index=\"4-3\">反馈/建议</el-menu-item>\r\n            </el-submenu>\r\n          </el-menu>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"3\">\r\n        <div class=\"grid-content bg-purple-light\">\r\n          <div v-show=\"!isLogin\">\r\n            <el-button type=\"primary\" round @click=\"emitLogin\">登录</el-button>\r\n            <el-button type=\"success\" round @click=\"emitRegister\">注册</el-button>\r\n          </div>\r\n          <div v-show=\"isLogin\">\r\n            <el-button type=\"danger\" round @click=\"selectUser\">{{loginName}}</el-button>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Qs from \"qs\"\r\n  export default {\r\n    name: \"Navigation\",\r\n    data() {\r\n      return {\r\n        isLogin:false,\r\n        loginName:'未命名',\r\n        activeIndex: '1',\r\n        activeIndex2: '1',\r\n      };\r\n    },\r\n    props:['router'],\r\n    methods: {\r\n      selectUser(){\r\n        var user = localStorage.getItem('user');\r\n        this.$axios.post('http://localhost:8080/user/selectUser',user).then(\r\n            response => {\r\n              console.log(\"返回的数据是：\",response.data)\r\n            },\r\n            error => {\r\n              console.log(\"错误的原因是：\",error)\r\n            }\r\n        )\r\n      },\r\n      handleSelect(key, keyPath) {\r\n        console.log(key, keyPath);\r\n      },\r\n      emitRouter(router){\r\n        this.$bus.$emit('router',router)\r\n      },\r\n      emitLogin(){\r\n        this.$bus.$emit('router','/login')\r\n      },\r\n      emitRegister(){\r\n        this.$bus.$emit('router','/register')\r\n      },\r\n      emitUser(){\r\n        this.$bus.$emit('router','/user')\r\n      }\r\n    },\r\n    mounted() {\r\n      var user = JSON.parse(localStorage.getItem('user'));\r\n      if (user.name !== '' && user.password !== ''){\r\n        this.isLogin = true\r\n\r\n        this.$axios.post('http://localhost:8080/user/selectUser',Qs.stringify({\r\n          name:user.name,\r\n          pass:user.password\r\n        })).then(\r\n            response => {\r\n              this.loginName = response.data.userName\r\n            },\r\n        )\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  button{\r\n    margin-top: 20px;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}