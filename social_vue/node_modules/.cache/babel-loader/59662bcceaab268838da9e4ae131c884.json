{"ast":null,"code":"import Qs from \"qs\";\nexport default {\n  name: \"Latest\",\n\n  data() {\n    return {\n      isFavorite: false,\n      isCollection: false,\n      topics: []\n    };\n  },\n\n  mounted() {\n    this.$axios.post('http://localhost:8080/topic/latestTopic').then(response => {\n      this.topics = response.data;\n    });\n  },\n\n  methods: {\n    emitFavorite() {\n      console.log('触发了');\n      let favorite = {\n        favoriteName: '33',\n        favoriteTarget: '44'\n      };\n      this.$axios.post('http://localhost:8080/favorite/selectFavoriteByTarget', Qs.stringify({\n        favoriteTarget: '22'\n      })).then(response => {\n        this.topics.push({\n          favorite: 10\n        });\n        console.log(this.topics);\n      }, error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgCA;AACA;EACAA,cADA;;EAEAC;IACA;MACAC,iBADA;MAEAC,mBAFA;MAGAC;IAHA;EAKA,CARA;;EASAC;IACA,iEACAC;MACA;IACA,CAHA;EAKA,CAfA;;EAgBAC;IACAC;MACAC;MACA;QACAC,kBADA;QAEAC;MAFA;MAIA;QAAAA;MAAA,SACAL;QACA;UAAAM;QAAA;QACAH;MACA,CAJA,EAKAI;QACAJ;MACA,CAPA;IASA;;EAhBA;AAhBA","names":["name","data","isFavorite","isCollection","topics","mounted","response","methods","emitFavorite","console","favoriteName","favoriteTarget","favorite","error"],"sourceRoot":"src/pages","sources":["Latest.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <br><br><br>\r\n    <article class=\"media\" v-for=\"topic in topics\" :key=\"topic.topicId\">\r\n      <figure class=\"media-left\">\r\n          <p class=\"image is-64x64\">\r\n            <img src=\"../assets/logo.png\">\r\n          </p>\r\n      </figure>\r\n      <div class=\"media-content\">\r\n        <div class=\"content\">\r\n          <p>\r\n            <strong>{{ topic.topicUserName }}({{ topic.topicName }})</strong> <el-tag>{{ topic.topicType }}</el-tag> <small>{{ topic.topicTime }}</small>\r\n            <br>\r\n           {{ topic.topicContent }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <el-badge :value=\"12\" class=\"item\">\r\n        <el-button size=\"small\" @click=\"emitFavorite\">点赞</el-button>\r\n      </el-badge>\r\n      <el-badge :value=\"1\" class=\"item\" type=\"primary\">\r\n        <el-button size=\"small\">评论</el-button>\r\n      </el-badge>\r\n      <el-badge :value=\"2\" class=\"item\" type=\"warning\">\r\n        <el-button size=\"small\">收藏</el-button>\r\n      </el-badge>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Qs from \"qs\"\r\n  export default {\r\n    name: \"Latest\",\r\n    data(){\r\n      return {\r\n        isFavorite:false,\r\n        isCollection:false,\r\n        topics:[]\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$axios.post('http://localhost:8080/topic/latestTopic').then(\r\n          response => {\r\n            this.topics = response.data\r\n          },\r\n      )\r\n    },\r\n    methods:{\r\n      emitFavorite(){\r\n        console.log('触发了')\r\n        let favorite = {\r\n          favoriteName:'33',\r\n          favoriteTarget:'44'\r\n        }\r\n        this.$axios.post('http://localhost:8080/favorite/selectFavoriteByTarget',Qs.stringify({favoriteTarget:'22'})).then(\r\n            response => {\r\n              this.topics.push({favorite:10})\r\n              console.log(this.topics)\r\n            },\r\n            error => {\r\n              console.log(error)\r\n            }\r\n        )\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .item {\r\n    margin-top: 10px;\r\n    margin-right: 40px;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}