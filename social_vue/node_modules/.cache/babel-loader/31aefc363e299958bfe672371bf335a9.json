{"ast":null,"code":"import Qs from \"qs\";\nexport default {\n  name: \"Navigation\",\n\n  data() {\n    return {\n      isLogin: false,\n      loginName: 'abstyle',\n      activeIndex: '1',\n      activeIndex2: '1'\n    };\n  },\n\n  props: ['router'],\n  methods: {\n    handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n    },\n\n    emitRouter(router) {\n      this.$bus.$emit('router', router);\n    },\n\n    emitLogin() {\n      this.$bus.$emit('router', '/login');\n    },\n\n    emitRegister() {\n      this.$bus.$emit('router', '/register');\n    }\n\n  },\n\n  mounted() {\n    var user = JSON.parse(localStorage.getItem('user'));\n\n    if (user.name !== '' && user.password !== '') {\n      this.isLogin = true;\n      this.$axios.post('http://localhost:8080/user/selectUser', Qs.stringify({\n        name: user.name,\n        pass: user.password\n      })).then(response => {\n        console.log(response.data.name);\n      });\n    }\n  }\n\n};","map":{"version":3,"mappings":"AAkCA;AACA;EACAA,kBADA;;EAEAC;IACA;MACAC,cADA;MAEAC,oBAFA;MAGAC,gBAHA;MAIAC;IAJA;EAMA,CATA;;EAUAC,iBAVA;EAWAC;IACAC;MACAC;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACA;IACA,CATA;;IAUAC;MACA;IACA;;EAZA,CAXA;;EAyBAC;IACA;;IACA;MACA;MAEA;QACAb,eADA;QAEAc;MAFA,IAGAC,IAHA,CAIAC;QACAP;MACA,CANA;IAQA;EACA;;AAvCA","names":["name","data","isLogin","loginName","activeIndex","activeIndex2","props","methods","handleSelect","console","emitRouter","emitLogin","emitRegister","mounted","pass","then","response"],"sourceRoot":"src/components","sources":["Navigation.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"20\">\r\n        <div class=\"grid-content bg-purple\">\r\n          <el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\">\r\n            <el-menu-item index=\"1\" @click=\"emitRouter('/home')\">首页</el-menu-item>\r\n            <el-menu-item index=\"2\" @click=\"emitRouter('/latest')\">最新</el-menu-item>\r\n            <el-menu-item index=\"3\">最热</el-menu-item>\r\n            <el-submenu index=\"4\">\r\n              <template slot=\"title\">更多</template>\r\n              <el-menu-item index=\"4-1\">个人信息</el-menu-item>\r\n              <el-menu-item index=\"4-2\">会员服务</el-menu-item>\r\n              <el-menu-item index=\"4-3\">反馈/建议</el-menu-item>\r\n            </el-submenu>\r\n          </el-menu>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <div class=\"grid-content bg-purple-light\">\r\n          <div v-show=\"!isLogin\">\r\n            <el-button type=\"primary\" round @click=\"emitLogin\">登录</el-button>\r\n            <el-button type=\"success\" round @click=\"emitRegister\">注册</el-button>\r\n          </div>\r\n          <div v-show=\"isLogin\">\r\n            <el-button type=\"danger\" round>{{loginName}}</el-button>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Qs from \"qs\"\r\n  export default {\r\n    name: \"Navigation\",\r\n    data() {\r\n      return {\r\n        isLogin:false,\r\n        loginName:'abstyle',\r\n        activeIndex: '1',\r\n        activeIndex2: '1',\r\n      };\r\n    },\r\n    props:['router'],\r\n    methods: {\r\n      handleSelect(key, keyPath) {\r\n        console.log(key, keyPath);\r\n      },\r\n      emitRouter(router){\r\n        this.$bus.$emit('router',router)\r\n      },\r\n      emitLogin(){\r\n        this.$bus.$emit('router','/login')\r\n      },\r\n      emitRegister(){\r\n        this.$bus.$emit('router','/register')\r\n      }\r\n    },\r\n    mounted() {\r\n      var user = JSON.parse(localStorage.getItem('user'));\r\n      if (user.name !== '' && user.password !== ''){\r\n        this.isLogin = true\r\n\r\n        this.$axios.post('http://localhost:8080/user/selectUser',Qs.stringify({\r\n          name:user.name,\r\n          pass:user.password\r\n        })).then(\r\n            response => {\r\n              console.log(response.data.name)\r\n            },\r\n        )\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  button{\r\n    margin-top: 20px;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}