{"ast":null,"code":"import Navigation from \"./components/Navigation\";\nexport default {\n  name: 'App',\n\n  data() {\n    return {\n      router: '/home'\n    };\n  },\n\n  components: {\n    Navigation\n  },\n\n  mounted() {\n    this.$router.replace(this.router);\n    this.$bus.$on('router', router => {\n      if (this.router !== router) {\n        this.router = router;\n        this.$router.replace(this.router);\n      }\n    });\n    this.$bus.$on('user', user => {\n      let beforeRouter_user = this.router;\n\n      if (this.router !== '/user') {\n        this.router = '/user';\n        this.$router.replace({\n          path: '/user',\n          query: {\n            router: beforeRouter_user,\n            name: user.name,\n            userName: user.userName,\n            age: user.age,\n            sex: user.sex,\n            occupation: user.occupation,\n            signature: user.signature\n          }\n        });\n      }\n    });\n    this.$bus.$on('publish', user => {\n      let beforeRouter_publish = this.router;\n\n      if (this.router !== '/publish') {\n        this.router = '/publish';\n        this.$router.replace({\n          path: '/publish',\n          query: {\n            router: beforeRouter_publish,\n            name: user.name,\n            userName: user.userName\n          }\n        });\n      }\n    });\n    this.$bus.$on('comment', comment_target => {\n      let beforeRouter_comment = this.router;\n\n      if (this.router !== '/comment') {\n        this.router = '/comment';\n        this.$router.replace({\n          path: '/comment',\n          query: {\n            router: beforeRouter_comment,\n            comment_target: comment_target\n          }\n        });\n      }\n    });\n  },\n\n  beforeDestroy() {\n    this.$bus.$off('router');\n    this.$bus.$off('user');\n    this.$bus.$off('publish');\n  }\n\n};","map":{"version":3,"mappings":"AAcA;AACA;EACAA,WADA;;EAEAC;IACA;MACAC;IADA;EAGA,CANA;;EAOAC;IACAC;EADA,CAPA;;EAUAC;IACA;IACA;MACA;QACA;QACA;MACA;IACA,CALA;IAMA;MACA;;MACA;QACA;QACA;UACAC,aADA;UAEAC;YACAL,yBADA;YAEAF,eAFA;YAGAQ,uBAHA;YAIAC,aAJA;YAKAC,aALA;YAMAC,2BANA;YAOAC;UAPA;QAFA;MAYA;IACA,CAjBA;IAkBA;MACA;;MACA;QACA;QACA;UACAN,gBADA;UAEAC;YACAL,4BADA;YAEAF,eAFA;YAGAQ;UAHA;QAFA;MAQA;IACA,CAbA;IAeA;MACA;;MACA;QACA;QACA;UACAF,gBADA;UAEAC;YACAL,4BADA;YAEAW;UAFA;QAFA;MAOA;IACA,CAZA;EAaA,CAhEA;;EAiEAC;IACA;IACA;IACA;EACA;;AArEA","names":["name","data","router","components","Navigation","mounted","path","query","userName","age","sex","occupation","signature","comment_target","beforeDestroy"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n<!--  导航区-->\n  <el-container>\n    <el-header>\n      <Navigation :router=\"router\"/>\n    </el-header>\n<!--    内容区-->\n    <el-main>\n      <router-view></router-view>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\n  import Navigation from \"./components/Navigation\";\n  export default {\n    name: 'App',\n    data(){\n      return {\n          router:'/home'\n      }\n    },\n    components:{\n      Navigation,\n    },\n    mounted() {\n      this.$router.replace(this.router)\n      this.$bus.$on('router', (router) => {\n        if (this.router !== router){\n          this.router = router\n          this.$router.replace(this.router)\n        }\n      })\n      this.$bus.$on('user', (user) => {\n        let beforeRouter_user = this.router\n        if (this.router !== '/user'){\n          this.router = '/user'\n          this.$router.replace({\n            path:'/user',\n            query:{\n              router:beforeRouter_user,\n              name:user.name,\n              userName:user.userName,\n              age:user.age,\n              sex:user.sex,\n              occupation:user.occupation,\n              signature:user.signature\n            }\n          })\n        }\n      })\n      this.$bus.$on('publish',(user) => {\n        let beforeRouter_publish = this.router\n        if (this.router !== '/publish'){\n          this.router = '/publish'\n          this.$router.replace({\n            path:'/publish',\n            query:{\n              router:beforeRouter_publish,\n              name:user.name,\n              userName:user.userName,\n            }\n          })\n        }\n      })\n\n      this.$bus.$on('comment',(comment_target) => {\n        let beforeRouter_comment = this.router\n        if(this.router !== '/comment'){\n          this.router = '/comment'\n          this.$router.replace({\n            path:'/comment',\n            query:{\n              router:beforeRouter_comment,\n              comment_target:comment_target\n            }\n          })\n        }\n      })\n    },\n    beforeDestroy() {\n      this.$bus.$off('router')\n      this.$bus.$off('user')\n      this.$bus.$off('publish')\n    }\n  }\n</script>\n\n<style>\n</style>\n"]},"metadata":{},"sourceType":"module"}